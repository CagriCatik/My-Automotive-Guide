# Service-orientierte Fahrzeugarchitektur

Die service-orientierte Fahrzeugarchitektur bildet eine zentrale Grundlage für die moderne Fahrzeugtechnik. Diese Architektur basiert auf einem verteilten System, in dem verschiedene Komponenten und Services miteinander interagieren. Zur Realisierung dieser Architektur wurden spezifische Design Patterns entwickelt, die eine effiziente und robuste Kommunikation zwischen den Komponenten gewährleisten. Ein wesentlicher Bestandteil dieser Architektur ist die Onboard Vehicle API, die als Schnittstelle für den Zugriff auf Fahrzeugfunktionen dient. Das Design und die Implementierung von SOME/IP Services, die über diese API angeboten werden, erfordert eine methodische Vorgehensweise und die Berücksichtigung von Best Practices. Bei der Entwicklung eines Services auf der Onboard Vehicle API ist es entscheidend, die geeigneten Design Patterns und Vorgaben zu beachten. Hierbei steht die Funktionalität der spezifischen Funktion oder des Systems im Vordergrund. Es ist von großer Bedeutung, eine klare Schnittstellenbeschreibung zu erstellen, um die Interaktion mit dem Service zu definieren. Zudem sollten Aspekte wie die Versionierung der Schnittstelle, die Behandlung von Fehlern und die Sicherheit der Kommunikation berücksichtigt werden. Ein weiterer wichtiger Punkt ist die Berücksichtigung von Skalierbarkeit und Performance. Der Service sollte in der Lage sein, eine Vielzahl von Anfragen effizient zu verarbeiten und dabei eine hohe Zuverlässigkeit zu gewährleisten. Hierbei können bewährte Techniken aus dem Bereich der verteilten Systeme und der Softwarearchitektur zum Einsatz kommen. Zusammenfassend lässt sich sagen, dass die Entwicklung von Services auf der Onboard Vehicle API eine sorgfältige Planung und Umsetzung erfordert. Die Beachtung der Design Patterns und Vorgaben für Service Design und Implementierung ist entscheidend, um eine robuste und leistungsfähige Architektur zu gewährleisten. Dies trägt maßgeblich zur Funktionalität und Zuverlässigkeit moderner Fahrzeugtechnik bei.

## SOME/IP

Service-Oriented Middleware over IP (SOME/IP) ist eine spezielle Technologie, die in der Automobilindustrie zur Realisierung der Service-orientierten Kommunikation innerhalb von Fahrzeugen verwendet wird. Dieses Protokoll ermöglicht den Datenaustausch zwischen Service-Providern (Server) und anfragenden Clients im Kontext des Systems Engineering im Automobilsektor. Die Entwicklung und Standardisierung von SOME/IP wurde maßgeblich vom AUTOSAR-Konsortium vorangetrieben und wird kontinuierlich von verschiedenen Unternehmen weiterentwickelt. SOME/IP dient als Standardprotokoll für den Datenaustausch über Service-Schnittstellen innerhalb eines Fahrzeugs und fungiert als Middleware für Service-orientierte Architekturen (SOA), um den Datenaustausch zwischen Servern und Clients zu erleichtern. Es setzt sich aus drei grundlegenden Technologieblöcken zusammen: "Service Discovery" (Diensterkennung), "Serialisierung" (Datenformatierung) und "Transport Protocols" (Transportprotokolle). Die "Service Discovery" ermöglicht es, verfügbare Dienste im Netzwerk zu identifizieren und auf sie zuzugreifen. Die "Serialisierung" ist für die Umwandlung von Daten in ein geeignetes Format verantwortlich, um sie zwischen den Kommunikationspartnern austauschbar zu machen. Schließlich kümmert sich das "Transport Protocols" um die eigentliche Übertragung der Daten zwischen den Servern und den Clients. Insgesamt trägt SOME/IP dazu bei, die Kommunikation und den Datenaustausch innerhalb von Fahrzeugen effizienter und standardisiert zu gestalten. Diese Technologie wird weiterhin in der Automobilbranche entwickelt und verbessert, um den steigenden Anforderungen an die Vernetzung und den Informationsaustausch innerhalb moderner Fahrzeuge gerecht zu werden.

## Funktionsweise vom Datenaustausch zwischen Service Provider und Client(s)

Der Datenaustausch zwischen Service Provider und Client(s) für die Bereitstellung von Services über SOME/IP erfolgt mithilfe von zwei zentralen Mechanismen: der Service Discovery und der Serialisierung. Im Kontext dieser Betrachtung liegt der Fokus auf dem Request-Response Mechanismus. Die Service Discovery stellt einen Mechanismus dar, der die Ethernet-Kommunikation zwischen Electronic Control Units (ECUs) ermöglicht, ohne dass eine fest definierte Zuordnung von Sendern und Empfängern der Daten erforderlich ist. Jede ECU definiert stattdessen ein Set von Provider Service Instanzen, die zur Bereitstellung von Services dienen, sowie erforderliche Service Instanzen. Während der Laufzeit nutzt der Service Discovery Mechanismus diese Definitionen, um die Provider Service Instanzen bereitzustellen und die erforderlichen Service Instanzen zu finden (Find and Offer). Es ist dabei zu beachten, dass ein Broadcast nicht möglich ist, wodurch Services oder Service Instanzen, die nicht bekannt sind, nicht gefunden werden können. Diese Vorgehensweise ist unerlässlich, da ohne Kenntnis der Struktur des Service Interfaces die Daten nicht interpretiert werden könnten. Der Begriff der Serialisierung bezieht sich auf den Prozess, bei dem Datenstrukturen oder Objekte in ein Format übersetzt werden, das gespeichert und übertragen werden kann und anschließend rekonstruiert werden kann. Konkret bedeutet dies, dass die Abfolge der Bits der Datenstruktur so formatiert wird, dass sie über ein Netzwerk übertragen werden kann. Für die Serialisierung von Daten im Fahrzeug und deren Übertragung über das Ethernet Netzwerk, also den Ethernet Bus, definiert SOME/IP allgemeine Architekturpattern. Diese Muster, welche das Request- und Response- Verhalten für die Bereitstellung von Services festlegen, werden im Folgenden als "Service Design Patterns" bezeichnet.
